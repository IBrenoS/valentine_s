{"ast":null,"code":"var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Euler, Vector3, EventDispatcher } from \"three\";\nconst _euler = new Euler(0, 0, 0, \"YXZ\");\nconst _vector = new Vector3();\nconst _changeEvent = {\n  type: \"change\"\n};\nconst _lockEvent = {\n  type: \"lock\"\n};\nconst _unlockEvent = {\n  type: \"unlock\"\n};\nconst _PI_2 = Math.PI / 2;\nclass PointerLockControls extends EventDispatcher {\n  constructor(camera, domElement) {\n    super();\n    __publicField(this, \"camera\");\n    __publicField(this, \"domElement\");\n    __publicField(this, \"isLocked\");\n    __publicField(this, \"minPolarAngle\");\n    __publicField(this, \"maxPolarAngle\");\n    __publicField(this, \"pointerSpeed\");\n    __publicField(this, \"onMouseMove\", event => {\n      if (!this.domElement || this.isLocked === false) return;\n      const movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;\n      const movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;\n      _euler.setFromQuaternion(this.camera.quaternion);\n      _euler.y -= movementX * 2e-3 * this.pointerSpeed;\n      _euler.x -= movementY * 2e-3 * this.pointerSpeed;\n      _euler.x = Math.max(_PI_2 - this.maxPolarAngle, Math.min(_PI_2 - this.minPolarAngle, _euler.x));\n      this.camera.quaternion.setFromEuler(_euler);\n      this.dispatchEvent(_changeEvent);\n    });\n    __publicField(this, \"onPointerlockChange\", () => {\n      if (!this.domElement) return;\n      if (this.domElement.ownerDocument.pointerLockElement === this.domElement) {\n        this.dispatchEvent(_lockEvent);\n        this.isLocked = true;\n      } else {\n        this.dispatchEvent(_unlockEvent);\n        this.isLocked = false;\n      }\n    });\n    __publicField(this, \"onPointerlockError\", () => {\n      console.error(\"THREE.PointerLockControls: Unable to use Pointer Lock API\");\n    });\n    __publicField(this, \"connect\", domElement => {\n      this.domElement = domElement || this.domElement;\n      if (!this.domElement) return;\n      this.domElement.ownerDocument.addEventListener(\"mousemove\", this.onMouseMove);\n      this.domElement.ownerDocument.addEventListener(\"pointerlockchange\", this.onPointerlockChange);\n      this.domElement.ownerDocument.addEventListener(\"pointerlockerror\", this.onPointerlockError);\n    });\n    __publicField(this, \"disconnect\", () => {\n      if (!this.domElement) return;\n      this.domElement.ownerDocument.removeEventListener(\"mousemove\", this.onMouseMove);\n      this.domElement.ownerDocument.removeEventListener(\"pointerlockchange\", this.onPointerlockChange);\n      this.domElement.ownerDocument.removeEventListener(\"pointerlockerror\", this.onPointerlockError);\n    });\n    __publicField(this, \"dispose\", () => {\n      this.disconnect();\n    });\n    __publicField(this, \"getObject\", () => {\n      return this.camera;\n    });\n    __publicField(this, \"direction\", new Vector3(0, 0, -1));\n    __publicField(this, \"getDirection\", v => {\n      return v.copy(this.direction).applyQuaternion(this.camera.quaternion);\n    });\n    __publicField(this, \"moveForward\", distance => {\n      _vector.setFromMatrixColumn(this.camera.matrix, 0);\n      _vector.crossVectors(this.camera.up, _vector);\n      this.camera.position.addScaledVector(_vector, distance);\n    });\n    __publicField(this, \"moveRight\", distance => {\n      _vector.setFromMatrixColumn(this.camera.matrix, 0);\n      this.camera.position.addScaledVector(_vector, distance);\n    });\n    __publicField(this, \"lock\", () => {\n      if (this.domElement) this.domElement.requestPointerLock();\n    });\n    __publicField(this, \"unlock\", () => {\n      if (this.domElement) this.domElement.ownerDocument.exitPointerLock();\n    });\n    this.camera = camera;\n    this.domElement = domElement;\n    this.isLocked = false;\n    this.minPolarAngle = 0;\n    this.maxPolarAngle = Math.PI;\n    this.pointerSpeed = 1;\n    if (domElement) this.connect(domElement);\n  }\n}\nexport { PointerLockControls };","map":{"version":3,"names":["_euler","Euler","_vector","Vector3","_changeEvent","type","_lockEvent","_unlockEvent","_PI_2","Math","PI","PointerLockControls","EventDispatcher","constructor","camera","domElement","__publicField","event","isLocked","movementX","mozMovementX","webkitMovementX","movementY","mozMovementY","webkitMovementY","setFromQuaternion","quaternion","y","pointerSpeed","x","max","maxPolarAngle","min","minPolarAngle","setFromEuler","dispatchEvent","ownerDocument","pointerLockElement","console","error","addEventListener","onMouseMove","onPointerlockChange","onPointerlockError","removeEventListener","disconnect","v","copy","direction","applyQuaternion","distance","setFromMatrixColumn","matrix","crossVectors","up","position","addScaledVector","requestPointerLock","exitPointerLock","connect"],"sources":["D:\\valentines_website\\node_modules\\src\\controls\\PointerLockControls.ts"],"sourcesContent":["import { Euler, Camera, EventDispatcher, Vector3 } from 'three'\n\nconst _euler = new Euler(0, 0, 0, 'YXZ')\nconst _vector = new Vector3()\nconst _changeEvent = { type: 'change' }\nconst _lockEvent = { type: 'lock' }\nconst _unlockEvent = { type: 'unlock' }\nconst _PI_2 = Math.PI / 2\n\nclass PointerLockControls extends EventDispatcher {\n  public camera: Camera\n  public domElement?: HTMLElement\n  public isLocked: boolean\n  public minPolarAngle: number\n  public maxPolarAngle: number\n  public pointerSpeed: number\n\n  constructor(camera: Camera, domElement?: HTMLElement) {\n    super()\n\n    this.camera = camera\n    this.domElement = domElement\n    this.isLocked = false\n\n    // Set to constrain the pitch of the camera\n    // Range is 0 to Math.PI radians\n    this.minPolarAngle = 0 // radians\n    this.maxPolarAngle = Math.PI // radians\n\n    this.pointerSpeed = 1.0\n    if (domElement) this.connect(domElement)\n  }\n\n  private onMouseMove = (event: MouseEvent): void => {\n    if (!this.domElement || this.isLocked === false) return\n    const movementX = event.movementX || (event as any).mozMovementX || (event as any).webkitMovementX || 0\n    const movementY = event.movementY || (event as any).mozMovementY || (event as any).webkitMovementY || 0\n    _euler.setFromQuaternion(this.camera.quaternion)\n    _euler.y -= movementX * 0.002 * this.pointerSpeed\n    _euler.x -= movementY * 0.002 * this.pointerSpeed\n    _euler.x = Math.max(_PI_2 - this.maxPolarAngle, Math.min(_PI_2 - this.minPolarAngle, _euler.x))\n    this.camera.quaternion.setFromEuler(_euler)\n    // @ts-ignore\n    this.dispatchEvent(_changeEvent)\n  }\n\n  private onPointerlockChange = (): void => {\n    if (!this.domElement) return\n    if (this.domElement.ownerDocument.pointerLockElement === this.domElement) {\n      // @ts-ignore\n      this.dispatchEvent(_lockEvent)\n      this.isLocked = true\n    } else {\n      // @ts-ignore\n      this.dispatchEvent(_unlockEvent)\n      this.isLocked = false\n    }\n  }\n\n  private onPointerlockError = (): void => {\n    console.error('THREE.PointerLockControls: Unable to use Pointer Lock API')\n  }\n\n  public connect = (domElement: HTMLElement): void => {\n    this.domElement = domElement || this.domElement\n    if (!this.domElement) return\n    this.domElement.ownerDocument.addEventListener('mousemove', this.onMouseMove)\n    this.domElement.ownerDocument.addEventListener('pointerlockchange', this.onPointerlockChange)\n    this.domElement.ownerDocument.addEventListener('pointerlockerror', this.onPointerlockError)\n  }\n\n  public disconnect = (): void => {\n    if (!this.domElement) return\n    this.domElement.ownerDocument.removeEventListener('mousemove', this.onMouseMove)\n    this.domElement.ownerDocument.removeEventListener('pointerlockchange', this.onPointerlockChange)\n    this.domElement.ownerDocument.removeEventListener('pointerlockerror', this.onPointerlockError)\n  }\n\n  public dispose = (): void => {\n    this.disconnect()\n  }\n\n  public getObject = (): Camera => {\n    // retaining this method for backward compatibility\n    return this.camera\n  }\n\n  private direction = new Vector3(0, 0, -1)\n  public getDirection = (v: Vector3): Vector3 => {\n    return v.copy(this.direction).applyQuaternion(this.camera.quaternion)\n  }\n\n  public moveForward = (distance: number): void => {\n    // move forward parallel to the xz-plane\n    // assumes camera.up is y-up\n    _vector.setFromMatrixColumn(this.camera.matrix, 0)\n    _vector.crossVectors(this.camera.up, _vector)\n    this.camera.position.addScaledVector(_vector, distance)\n  }\n\n  public moveRight = (distance: number): void => {\n    _vector.setFromMatrixColumn(this.camera.matrix, 0)\n    this.camera.position.addScaledVector(_vector, distance)\n  }\n\n  public lock = (): void => {\n    if (this.domElement) this.domElement.requestPointerLock()\n  }\n\n  public unlock = (): void => {\n    if (this.domElement) this.domElement.ownerDocument.exitPointerLock()\n  }\n}\n\nexport { PointerLockControls }\n"],"mappings":";;;;;;;;;;;;AAEA,MAAMA,MAAA,GAAS,IAAIC,KAAA,CAAM,GAAG,GAAG,GAAG,KAAK;AACvC,MAAMC,OAAA,GAAU,IAAIC,OAAA;AACpB,MAAMC,YAAA,GAAe;EAAEC,IAAA,EAAM;AAAA;AAC7B,MAAMC,UAAA,GAAa;EAAED,IAAA,EAAM;AAAA;AAC3B,MAAME,YAAA,GAAe;EAAEF,IAAA,EAAM;AAAA;AAC7B,MAAMG,KAAA,GAAQC,IAAA,CAAKC,EAAA,GAAK;AAExB,MAAMC,mBAAA,SAA4BC,eAAA,CAAgB;EAQhDC,YAAYC,MAAA,EAAgBC,UAAA,EAA0B;IAC9C;IARDC,aAAA;IACAA,aAAA;IACAA,aAAA;IACAA,aAAA;IACAA,aAAA;IACAA,aAAA;IAkBCA,aAAA,sBAAeC,KAAA,IAA4B;MACjD,IAAI,CAAC,KAAKF,UAAA,IAAc,KAAKG,QAAA,KAAa,OAAO;MACjD,MAAMC,SAAA,GAAYF,KAAA,CAAME,SAAA,IAAcF,KAAA,CAAcG,YAAA,IAAiBH,KAAA,CAAcI,eAAA,IAAmB;MACtG,MAAMC,SAAA,GAAYL,KAAA,CAAMK,SAAA,IAAcL,KAAA,CAAcM,YAAA,IAAiBN,KAAA,CAAcO,eAAA,IAAmB;MAC/FxB,MAAA,CAAAyB,iBAAA,CAAkB,KAAKX,MAAA,CAAOY,UAAU;MACxC1B,MAAA,CAAA2B,CAAA,IAAKR,SAAA,GAAY,OAAQ,KAAKS,YAAA;MAC9B5B,MAAA,CAAA6B,CAAA,IAAKP,SAAA,GAAY,OAAQ,KAAKM,YAAA;MACrC5B,MAAA,CAAO6B,CAAA,GAAIpB,IAAA,CAAKqB,GAAA,CAAItB,KAAA,GAAQ,KAAKuB,aAAA,EAAetB,IAAA,CAAKuB,GAAA,CAAIxB,KAAA,GAAQ,KAAKyB,aAAA,EAAejC,MAAA,CAAO6B,CAAC,CAAC;MACzF,KAAAf,MAAA,CAAOY,UAAA,CAAWQ,YAAA,CAAalC,MAAM;MAE1C,KAAKmC,aAAA,CAAc/B,YAAY;IAAA;IAGzBY,aAAA,8BAAsB,MAAY;MACxC,IAAI,CAAC,KAAKD,UAAA,EAAY;MACtB,IAAI,KAAKA,UAAA,CAAWqB,aAAA,CAAcC,kBAAA,KAAuB,KAAKtB,UAAA,EAAY;QAExE,KAAKoB,aAAA,CAAc7B,UAAU;QAC7B,KAAKY,QAAA,GAAW;MAAA,OACX;QAEL,KAAKiB,aAAA,CAAc5B,YAAY;QAC/B,KAAKW,QAAA,GAAW;MAClB;IAAA;IAGMF,aAAA,6BAAqB,MAAY;MACvCsB,OAAA,CAAQC,KAAA,CAAM,2DAA2D;IAAA;IAGpEvB,aAAA,kBAAWD,UAAA,IAAkC;MAC7C,KAAAA,UAAA,GAAaA,UAAA,IAAc,KAAKA,UAAA;MACrC,IAAI,CAAC,KAAKA,UAAA,EAAY;MACtB,KAAKA,UAAA,CAAWqB,aAAA,CAAcI,gBAAA,CAAiB,aAAa,KAAKC,WAAW;MAC5E,KAAK1B,UAAA,CAAWqB,aAAA,CAAcI,gBAAA,CAAiB,qBAAqB,KAAKE,mBAAmB;MAC5F,KAAK3B,UAAA,CAAWqB,aAAA,CAAcI,gBAAA,CAAiB,oBAAoB,KAAKG,kBAAkB;IAAA;IAGrF3B,aAAA,qBAAa,MAAY;MAC9B,IAAI,CAAC,KAAKD,UAAA,EAAY;MACtB,KAAKA,UAAA,CAAWqB,aAAA,CAAcQ,mBAAA,CAAoB,aAAa,KAAKH,WAAW;MAC/E,KAAK1B,UAAA,CAAWqB,aAAA,CAAcQ,mBAAA,CAAoB,qBAAqB,KAAKF,mBAAmB;MAC/F,KAAK3B,UAAA,CAAWqB,aAAA,CAAcQ,mBAAA,CAAoB,oBAAoB,KAAKD,kBAAkB;IAAA;IAGxF3B,aAAA,kBAAU,MAAY;MAC3B,KAAK6B,UAAA,CAAW;IAAA;IAGX7B,aAAA,oBAAY,MAAc;MAE/B,OAAO,KAAKF,MAAA;IAAA;IAGNE,aAAA,oBAAY,IAAIb,OAAA,CAAQ,GAAG,GAAG,EAAE;IACjCa,aAAA,uBAAgB8B,CAAA,IAAwB;MACtC,OAAAA,CAAA,CAAEC,IAAA,CAAK,KAAKC,SAAS,EAAEC,eAAA,CAAgB,KAAKnC,MAAA,CAAOY,UAAU;IAAA;IAG/DV,aAAA,sBAAekC,QAAA,IAA2B;MAG/ChD,OAAA,CAAQiD,mBAAA,CAAoB,KAAKrC,MAAA,CAAOsC,MAAA,EAAQ,CAAC;MACjDlD,OAAA,CAAQmD,YAAA,CAAa,KAAKvC,MAAA,CAAOwC,EAAA,EAAIpD,OAAO;MAC5C,KAAKY,MAAA,CAAOyC,QAAA,CAASC,eAAA,CAAgBtD,OAAA,EAASgD,QAAQ;IAAA;IAGjDlC,aAAA,oBAAakC,QAAA,IAA2B;MAC7ChD,OAAA,CAAQiD,mBAAA,CAAoB,KAAKrC,MAAA,CAAOsC,MAAA,EAAQ,CAAC;MACjD,KAAKtC,MAAA,CAAOyC,QAAA,CAASC,eAAA,CAAgBtD,OAAA,EAASgD,QAAQ;IAAA;IAGjDlC,aAAA,eAAO,MAAY;MACxB,IAAI,KAAKD,UAAA,EAAY,KAAKA,UAAA,CAAW0C,kBAAA;IAAmB;IAGnDzC,aAAA,iBAAS,MAAY;MAC1B,IAAI,KAAKD,UAAA,EAAiB,KAAAA,UAAA,CAAWqB,aAAA,CAAcsB,eAAA;IAAgB;IA1FnE,KAAK5C,MAAA,GAASA,MAAA;IACd,KAAKC,UAAA,GAAaA,UAAA;IAClB,KAAKG,QAAA,GAAW;IAIhB,KAAKe,aAAA,GAAgB;IACrB,KAAKF,aAAA,GAAgBtB,IAAA,CAAKC,EAAA;IAE1B,KAAKkB,YAAA,GAAe;IAChB,IAAAb,UAAA,EAAY,KAAK4C,OAAA,CAAQ5C,UAAU;EACzC;AAiFF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}